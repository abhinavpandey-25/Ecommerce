{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\ECommerce\\\\mystore\\\\pages\\\\product\\\\[id].js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { model } from 'mongoose';\nimport { useRouter } from 'next/router';\nimport { useRef, useEffect } from 'react';\nimport baseURL from '../../helper/baseURL';\n\nvar product = function product(props) {\n  _s();\n\n  var router = useRouter();\n  var modalRef = useRef(null);\n  useEffect(function () {\n    M.Modal.init(modalRef.current); //here modal agar triiger p work krana toh initialise karna padata h uske refrence se jo tiriger k bad display hoga\n  }, []);\n\n  if (router.isFallback) {\n    //agar use static props krte and and fallback true h then agar wo page already build nhi h toh server se fetch\n    //krenge jisme time lgta h toh tb tak ham loading a option dekha sakte h.\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"...Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 16\n    }, _this);\n  } // console.log(props);\n\n\n  var getModal = function getModal() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"modal1\",\n      className: \"modal\",\n      ref: modalRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Modal Header\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 15\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are u sure to delete this item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 15\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: function onClick() {\n          return deleteProduct();\n        },\n        className: \"waves-effect waves-light btn #d50000 red accent-4\",\n        style: {\n          margin: \"5px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 136\n        }, _this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 150\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: function onClick() {\n          return deleteProduct();\n        },\n        className: \"waves-effect waves-light btn #4a148c purple darken-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 116\n        }, _this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 130\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var deleteProduct = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(props) {\n      var res2, res3;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"del method\");\n              console.log(props.value._id);\n              _context.next = 4;\n              return fetch(\"\".concat(baseURL, \"/product/\").concat(props.value._id), {\n                method: 'DELETE'\n              });\n\n            case 4:\n              res2 = _context.sent;\n              _context.next = 7;\n              return res2.json();\n\n            case 7:\n              res3 = _context.sent;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function deleteProduct(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container center-align \",\n    style: {\n      marginBottom: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: props.value.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.value.mediaURL,\n      style: {\n        \"width\": \"35%\",\n        \"height\": \"400px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"RS \", props.value.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      style: {\n        width: \"50%\",\n        textAlign: \"center\"\n      },\n      min: \"1\",\n      placeholder: \"Quantity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"waves-effect waves-light btn\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 53\n      }, _this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 64\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.value.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-target\": \"modal1\",\n      className: \"waves-effect waves-light btn #d50000 red accent-4 modal-trigger\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 114\n      }, _this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 128\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, _this), getModal(props)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, _this);\n}; // export async function getServerSideProps(context) {\n//    //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\n//    //since the page is static one so we can use getstatic props also for better performance.\n//here in getserever side props context contains the params as obj and inside it id as another object {id:...}\n//    const id= context.params.id;\n//    const data=await fetch(`http://localhost:3000/api/product/${id}`).then(res=>res.json());\n//    console.log(data);\n//    return{\n//        props:{\n//            value:data\n//        }\n//    }\n// }       \n\n\n_s(product, \"OjWv84BbPMzFZjRS8coX7DSOcDk=\", false, function () {\n  return [useRouter];\n});\n\nexport var __N_SSG = true;\nexport default product;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/product/[id].js"],"names":["model","useRouter","useRef","useEffect","baseURL","product","props","router","modalRef","M","Modal","init","current","isFallback","getModal","deleteProduct","margin","console","log","value","_id","fetch","method","res2","json","res3","marginBottom","name","mediaURL","price","width","textAlign","description"],"mappings":"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","sourcesContent":["import { model } from 'mongoose';\r\nimport {useRouter} from 'next/router'\r\nimport { useRef,useEffect}from 'react'\r\nimport baseURL from '../../helper/baseURL';\r\nconst product=(props)=>{\r\n    const router=useRouter()\r\n    const modalRef=useRef(null);\r\n    useEffect(()=>{\r\n        M.Modal.init(modalRef.current);\r\n        //here modal agar triiger p work krana toh initialise karna padata h uske refrence se jo tiriger k bad display hoga\r\n    },[])\r\n    if(router.isFallback){\r\n        //agar use static props krte and and fallback true h then agar wo page already build nhi h toh server se fetch\r\n        //krenge jisme time lgta h toh tb tak ham loading a option dekha sakte h.\r\n        return(<h1>...Loading</h1>)\r\n    }\r\n    // console.log(props);\r\n    const getModal=()=>{\r\n        return(\r\n            <div id=\"modal1\" className=\"modal\" ref={modalRef}> \r\n            <div className=\"modal-content\">\r\n              <h4>Modal Header</h4>\r\n              <p>Are u sure to delete this item</p>\r\n            </div>\r\n            <button onClick={()=>deleteProduct()} className=\"waves-effect waves-light btn #d50000 red accent-4\" style={{margin:\"5px\"}}><b>Delete</b> <i className=\"material-icons\">delete</i></button>\r\n            <button onClick={()=>deleteProduct()} className=\"waves-effect waves-light btn #4a148c purple darken-4\"><b>Cancel</b> <i className=\"material-icons\">add</i></button>\r\n \r\n          </div>\r\n        )\r\n    }\r\n    const deleteProduct=async(props)=>{\r\n        console.log(\"del method\");\r\n        console.log(props.value._id);\r\n       const res2= await fetch(`${baseURL}/product/${props.value._id}`,{\r\n            method:'DELETE'\r\n        })\r\n        const res3=await res2.json();\r\n       \r\n    }\r\n    return(\r\n    <div className=\"container center-align \" style={{marginBottom:\"20px\"}}>\r\n        <h2>{props.value.name}</h2>\r\n     <img src={props.value.mediaURL} style={{\"width\":\"35%\", \"height\":\"400px\"}}/>\r\n   <b><p>RS {props.value.price}</p></b>\r\n    <input type=\"number\" style={{width:\"50%\",textAlign:\"center\"}} min=\"1\" placeholder=\"Quantity\" />\r\n   <button className=\"waves-effect waves-light btn\"><b>Add</b> <i className=\"material-icons\">+</i></button>\r\n        <p>{props.value.description}</p>\r\n        <button data-target=\"modal1\" className=\"waves-effect waves-light btn #d50000 red accent-4 modal-trigger\"><b>Delete</b> <i className=\"material-icons\">delete</i></button>  \r\n        {getModal(props)}\r\n        \r\n    {/* modal trigger lgana jarurui hota h also modal target btana bhi aur initalise krna bhi tbi modal work krega */}\r\n    </div>\r\n)\r\n}\r\n// export async function getServerSideProps(context) {\r\n//    //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\r\n//    //since the page is static one so we can use getstatic props also for better performance.\r\n//here in getserever side props context contains the params as obj and inside it id as another object {id:...}\r\n//    const id= context.params.id;\r\n//    const data=await fetch(`http://localhost:3000/api/product/${id}`).then(res=>res.json());\r\n\r\n//    console.log(data);\r\n//    return{\r\n//        props:{\r\n//            value:data\r\n//        }\r\n//    }\r\n// }       \r\nexport async function getStaticProps(context) {\r\n   //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\r\n   //since the page is static one so we can use getstatic props also for better performance.\r\n   const id= context.params.id;\r\n   const data=await fetch(`${baseURL}/api/product/${id}`).then(res=>res.json());\r\n   //console.log(data);\r\n   return{\r\n       props:{\r\n           value:data\r\n       }\r\n   }\r\n}       \r\n//first getstatic paths will run during build to build the sattic page with the givven id only\r\n//baki agar fallback false h toh other pages k liye pagenot found ayga but agar fall back true h toh jo id exist nhi krti at\r\n//build time then network request jese hoga on getstatic props\r\nexport async function getStaticPaths() {\r\n    return {\r\n      paths: [\r\n        { params: { id:\"5f977ae61efe90be048d25ae\"} } \r\n        //lets say we have a largee number of products then what should we doo hame har static path ko build time par hi build \r\n        //kar sakte h\r\n      ],\r\n      fallback: true \r\n    };\r\n  }\r\nexport default product;"]},"metadata":{},"sourceType":"module"}