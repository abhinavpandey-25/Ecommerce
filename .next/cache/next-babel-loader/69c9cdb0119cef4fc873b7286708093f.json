{"ast":null,"code":"// if i want this content to be r3endered at index .js\n//this product is an api  \nimport initDb from '../../helper/initDb';\nimport Product from '../../models/Product';\ninitDb();\nexport default ((req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      getProducts(req, res);\n      break;\n\n    case \"POST\":\n      SaveProducts(req, res);\n      break;\n  }\n});\n\nconst SaveProducts = async (req, res) => {\n  const {\n    name,\n    price,\n    media,\n    description\n  } = req.body;\n\n  if (!name || !price || !media || !description) {\n    res.status(422).json({\n      error: \"Please Add all fields\"\n    });\n  }\n\n  const product = await new Product({\n    name: name,\n    price: price,\n    mediaURL: media,\n    description: description\n  }).save(); //201 matlab kuch naya create hua h\n\n  res.status(201).json(product);\n};\n\nconst getProducts = async (req, res) => {\n  Product.find({}).then(products => {\n    res.status(200).json(products);\n  });\n}; //in nodejs may agar hamko koi dynamic route se get req krni toh url me app.get(api/products/:id,(req,res)=>{}) krke now in next js\n// we write this in the case of node js\n// app.get('/',(erq,resp)=>{\n//   resp.json({message:'Hi dude '});\n// })","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/api/products.js"],"names":["initDb","Product","req","res","method","getProducts","SaveProducts","name","price","media","description","body","status","json","error","product","mediaURL","save","find","then","products"],"mappings":"AAAA;AACA;AACA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACAD,MAAM;AACN,gBAAe,CAACE,GAAD,EAAKC,GAAL,KAAW;AAE1B,UAAOD,GAAG,CAACE,MAAX;AACI,SAAK,KAAL;AAAaC,MAAAA,WAAW,CAACH,GAAD,EAAKC,GAAL,CAAX;AACb;;AACA,SAAK,MAAL;AAAaG,MAAAA,YAAY,CAACJ,GAAD,EAAKC,GAAL,CAAZ;AACb;AAJJ;AAQC,CAVD;;AAWA,MAAMG,YAAY,GAAC,OAAMJ,GAAN,EAAUC,GAAV,KAAgB;AACjC,QAAK;AAACI,IAAAA,IAAD;AAAMC,IAAAA,KAAN;AAAYC,IAAAA,KAAZ;AAAkBC,IAAAA;AAAlB,MAA+BR,GAAG,CAACS,IAAxC;;AACA,MAAG,CAACJ,IAAD,IAAO,CAACC,KAAR,IAAe,CAACC,KAAhB,IAAuB,CAACC,WAA3B,EAAuC;AACnCP,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,KAAK,EAAC;AAAP,KAArB;AACH;;AACF,QAAMC,OAAO,GAAC,MAAM,IAAId,OAAJ,CAAY;AAC3BM,IAAAA,IAAI,EAACA,IADsB;AAE3BC,IAAAA,KAAK,EAACA,KAFqB;AAG3BQ,IAAAA,QAAQ,EAACP,KAHkB;AAI3BC,IAAAA,WAAW,EAACA;AAJe,GAAZ,EAKhBO,IALgB,EAApB,CALkC,CAWjC;;AACFd,EAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,OAArB;AACC,CAbD;;AAiBA,MAAMV,WAAW,GAAC,OAAMH,GAAN,EAAUC,GAAV,KAAgB;AAC/BF,EAAAA,OAAO,CAACiB,IAAR,CAAa,EAAb,EAAiBC,IAAjB,CAAsBC,QAAQ,IAAE;AAC5BjB,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBO,QAArB;AACH,GAFD;AAGF,CAJD,C,CAKA;AAEA;AACA;AACA;AACA","sourcesContent":["// if i want this content to be r3endered at index .js\n//this product is an api  \nimport initDb from '../../helper/initDb'\nimport Product from '../../models/Product'\ninitDb();\nexport default (req,res)=>{\n \nswitch(req.method){\n    case \"GET\":  getProducts(req,res);\n    break;\n    case \"POST\": SaveProducts(req,res);\n    break;\n}\n\n\n}\nconst SaveProducts=async(req,res)=>{\n  const{name,price,media,description}=req.body;\n  if(!name||!price||!media||!description){\n      res.status(422).json({error:\"Please Add all fields\"})\n  }\n const product=await new Product({\n      name:name,\n      price:price,\n      mediaURL:media,\n      description:description\n  }).save();\n  //201 matlab kuch naya create hua h\nres.status(201).json(product)\n}\n\n\n\nconst getProducts=async(req,res)=>{\n   Product.find({}).then(products=>{\n       res.status(200).json(products)\n   })\n}\n//in nodejs may agar hamko koi dynamic route se get req krni toh url me app.get(api/products/:id,(req,res)=>{}) krke now in next js\n\n// we write this in the case of node js\n// app.get('/',(erq,resp)=>{\n//   resp.json({message:'Hi dude '});\n// })"]},"metadata":{},"sourceType":"module"}