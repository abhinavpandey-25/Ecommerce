{"ast":null,"code":"import Product from '../../../models/Product';\nexport default (async (req, res) => {\n  const {\n    pid\n  } = req.query;\n\n  switch (req.method) {\n    case \"GET\":\n      console.log(req.method);\n      Product.findOne({\n        _id: pid\n      }, (err, result) => {\n        if (err) {\n          console.log(err);\n        } else {\n          res.status(200).json(result);\n        }\n      });\n      break;\n\n    case \"DELETE\":\n      console.log(\"delete\");\n      Product.findOneAndRemove({\n        _id: pid\n      }, error => {\n        if (!error) {\n          console.log(\"deleted\");\n        } else {\n          console.log(error);\n        }\n      });\n      break;\n  } // const pid=req.query.pid;another way for doing this can be\n\n});","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/api/product/[pid].js"],"names":["Product","req","res","pid","query","method","console","log","findOne","_id","err","result","status","json","findOneAndRemove","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,gBAAe,OAAMC,GAAN,EAAUC,GAAV,KAAgB;AAC3B,QAAM;AAACC,IAAAA;AAAD,MAAMF,GAAG,CAACG,KAAhB;;AAEA,UAAOH,GAAG,CAACI,MAAX;AACI,SAAK,KAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACI,MAAhB;AACFL,MAAAA,OAAO,CAACQ,OAAR,CAAgB;AAACC,QAAAA,GAAG,EAACN;AAAL,OAAhB,EAA0B,CAACO,GAAD,EAAKC,MAAL,KAAc;AACxC,YAAGD,GAAH,EAAO;AACHJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACH,SAFD,MAGI;AACAR,UAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,MAArB;AACH;AACJ,OAPG;AAQJ;;AACI,SAAK,QAAL;AACIL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACJP,MAAAA,OAAO,CAACc,gBAAR,CAAyB;AAACL,QAAAA,GAAG,EAACN;AAAL,OAAzB,EAAoCY,KAAD,IAAS;AACxC,YAAG,CAACA,KAAJ,EAAU;AACNT,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACH,SAFD,MAGI;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH;AACJ,OAPD;AAQA;AAtBJ,GAH2B,CA2B3B;;AAEH,CA7BD","sourcesContent":["import Product from '../../../models/Product'\r\nexport default async(req,res)=>{\r\n    const {pid}=req.query;\r\n \r\n    switch(req.method){\r\n        case \"GET\": \r\n          console.log(req.method);\r\n        Product.findOne({_id:pid},(err,result)=>{\r\n        if(err){\r\n            console.log(err);\r\n        }\r\n        else{\r\n            res.status(200).json(result);\r\n        }\r\n    });\r\n    break;\r\n        case \"DELETE\":\r\n            console.log(\"delete\");\r\n        Product.findOneAndRemove({_id:pid},(error)=>{\r\n            if(!error){\r\n                console.log(\"deleted\")\r\n            }\r\n            else{\r\n                console.log(error);\r\n            }\r\n        })\r\n        break;    \r\n    }\r\n    // const pid=req.query.pid;another way for doing this can be\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}