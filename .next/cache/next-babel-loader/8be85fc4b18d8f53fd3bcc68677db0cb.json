{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport baseURL from '../helper/baseURL';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\n\nconst login = () => {\n  const {\n    0: email,\n    1: setemail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setpassword\n  } = useState(\"\");\n  const router = useRouter(\"\");\n\n  const UserLogin = async e => {\n    e.preventDefault();\n    const res = await fetch(`${baseURL}/api/Login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    });\n    const res2 = await res.json();\n    console.log(res2);\n\n    if (res2.error) {\n      M.toast({\n        html: res2.error,\n        classes: \"red\"\n      });\n    } else {\n      //now as u get the token than it could be saved at two places that is local storage if local storage \n      //then token is accesible from client side only  and in the form of cookie and if cookie then can be accessed from\n      //both client and server \n      console.log(res2);\n      cookie.set('token', res2.token);\n      cookie.set('user', res2.user);\n      router.push('/account');\n    }\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(\"form\", {\n      onSubmit: e => UserLogin(e),\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \" container center-align card authcard\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          children: \"Login\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => {\n            setemail(e.target.value);\n          }\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          placeholder: \"password\",\n          value: password,\n          onChange: e => {\n            setpassword(e.target.value);\n          }\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          type: \"submit\",\n          className: \"waves-effect waves-light btn \",\n          children: [/*#__PURE__*/_jsx(\"i\", {\n            className: \"material-icons left \",\n            children: \"forward\"\n          }), \"Login\"]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(\"button\", {\n            style: {\n              margin: \"8px\"\n            },\n            className: \"waves-effect waves-light btn\",\n            onClick: () => router.push('/signup'),\n            children: \"Does Not Have Account\"\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport default login;","map":null,"metadata":{},"sourceType":"module"}