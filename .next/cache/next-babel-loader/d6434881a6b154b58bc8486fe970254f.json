{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\ECommerce\\\\mystore\\\\pages\\\\cart.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport baseURL from '../helper/baseURL';\nimport { parseCookies } from 'nookies';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { useState } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\n\nvar cart = function cart(_ref) {\n  _s();\n\n  var error = _ref.error,\n      products = _ref.products;\n\n  var _parseCookies = parseCookies(),\n      token = _parseCookies.token;\n\n  var _useState = useState(products),\n      newCart = _useState[0],\n      setCart = _useState[1];\n\n  var price = 0;\n\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-align\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Please Login to view your cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/login\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 33\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 17\n    }, _this);\n  }\n\n  var handleRemove = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pid) {\n      var res, res2;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"\".concat(baseURL, \"/api/cart\"), {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"Authorization\": token\n                },\n                body: JSON.stringify({\n                  productId: pid\n                })\n              });\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.json();\n\n            case 5:\n              res2 = _context.sent;\n              setCart(res2);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleRemove(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var CartItems = function CartItems() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: newCart.map(function (items) {\n        price = price + items.quantity * items.product.price;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"CartImages \",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: items.product.mediaURL\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [items.product.name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Quantity : \", items.quantity, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Price : \", items.product.price, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn #ff6f00 amber darken-4\",\n              onClick: function onClick() {\n                handleRemove(items.product._id);\n              },\n              children: \"REMOVE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, _this)]\n        }, items._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var router = useRouter();\n\n  if (error) {\n    M.toast({\n      html: error,\n      classes: \"red\"\n    });\n    cookie.remove(\"user\");\n    cookie.remove(\"token\");\n    router.push('/login');\n  }\n\n  var handleCheckout = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(paymentInfo) {\n      var res, res2;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"\".concat(baseURL, \"/api/payment\"), {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": 'application/json',\n                  \"Authorization\": token\n                },\n                body: JSON.stringify({\n                  paymentInfo: paymentInfo\n                })\n              });\n\n            case 2:\n              res = _context2.sent;\n              _context2.next = 5;\n              return res.json();\n\n            case 5:\n              res2 = _context2.sent;\n              M.toast({\n                html: res2.message,\n                classes: \"green\"\n              });\n              router.push(\"/\"); // console.log(res2);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleCheckout(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var TotalPrice = function TotalPrice() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-around\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\" Total Price : \\u20B9 \", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n        name: \"MyStore\",\n        amount: price * 100,\n        image: products.length > 0 ? products[0].product.mediaURL : \"\",\n        currency: \"INR\",\n        shippingAddress: true,\n        zipCode: true,\n        billingAddress: true,\n        stripeKey: \"pk_tet_51Hy0XdFCPaJSpKjHAlxmpDRUSYSVFLDBaNdbr75P4HH7ZGxfMT1swPb183nadzpZvZsGi5qj3j71MsjvWVwCIZjx00R8zBNaWq\",\n        token: function token(paymentInfo) {\n          return handleCheckout(paymentInfo);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, _this);\n  };\n\n  if (products.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-align\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Cart Is Empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 47\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: function onClick() {\n          router.push(\"/\");\n        },\n        children: \"Add Items in your cart \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 16\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(CartItems, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(TotalPrice, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(cart, \"2x5FXQ+S8oQBTBxtU6tpD8hrL30=\", false, function () {\n  return [useRouter];\n});\n\nexport var __N_SSP = true;\nexport default cart;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/cart.js"],"names":["baseURL","parseCookies","cookie","useRouter","Link","useState","StripeCheckout","cart","error","products","token","newCart","setCart","price","handleRemove","pid","fetch","method","headers","body","JSON","stringify","productId","res","json","res2","CartItems","map","items","quantity","product","mediaURL","margin","name","_id","router","M","toast","html","classes","remove","push","handleCheckout","paymentInfo","message","TotalPrice","display","justifyContent","length"],"mappings":";;;;;;;;AAAA,OAAOA,OAAP,MAAoB,mBAApB;AACA,SAAQC,YAAR,QAA2B,SAA3B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;;AAEA,IAAMC,IAAI,GAAC,SAALA,IAAK,OAAoB;AAAA;;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAAA,sBAEbR,YAAY,EAFC;AAAA,MAEpBS,KAFoB,iBAEpBA,KAFoB;;AAAA,kBAGHL,QAAQ,CAACI,QAAD,CAHL;AAAA,MAGpBE,OAHoB;AAAA,MAGZC,OAHY;;AAI3B,MAAIC,KAAK,GAAC,CAAV;;AACA,MAAG,CAACH,KAAJ,EAAU;AACN,wBAAQ;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADI,eAEJ,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,QAAX;AAAA,+BAAoB;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApB;AAAA;AAAA;AAAA;AAAA,eAFI;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AAIH;;AACD,MAAMI,YAAY;AAAA,yEAAC,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACCC,KAAK,WAAIhB,OAAJ,gBAAuB;AACxCiB,gBAAAA,MAAM,EAAC,QADiC;AAExCC,gBAAAA,OAAO,EAAC;AACJ,kCAAe,kBADX;AAEJ,mCAAgBR;AAFZ,iBAFgC;AAMxCS,gBAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,kBAAAA,SAAS,EAACP;AADM,iBAAf;AANmC,eAAvB,CADN;;AAAA;AACVQ,cAAAA,GADU;AAAA;AAAA,qBAWEA,GAAG,CAACC,IAAJ,EAXF;;AAAA;AAWTC,cAAAA,IAXS;AAYfb,cAAAA,OAAO,CAACa,IAAD,CAAP;;AAZe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAZX,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAgBJ,MAAMY,SAAS,GAAC,SAAVA,SAAU,GAAI;AAChB,wBACA;AAAA,gBACKf,OAAO,CAACgB,GAAR,CAAY,UAAAC,KAAK,EAAE;AAChBf,QAAAA,KAAK,GAACA,KAAK,GAACe,KAAK,CAACC,QAAN,GAAeD,KAAK,CAACE,OAAN,CAAcjB,KAAzC;AACA,4BACC;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACD;AAAK,YAAA,GAAG,EAAEe,KAAK,CAACE,OAAN,CAAcC;AAAxB;AAAA;AAAA;AAAA;AAAA,mBADC,eAED;AAAK,YAAA,KAAK,EAAE;AAACC,cAAAA,MAAM,EAAC;AAAR,aAAZ;AAAA,oCACI;AAAA,yBAAKJ,KAAK,CAACE,OAAN,CAAcG,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAA,wCAAgBL,KAAK,CAACC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,eAGI;AAAA,qCAAaD,KAAK,CAACE,OAAN,CAAcjB,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,eAII;AAAQ,cAAA,SAAS,EAAC,4BAAlB;AAA+C,cAAA,OAAO,EAAE,mBAAI;AAACC,gBAAAA,YAAY,CAACc,KAAK,CAACE,OAAN,CAAcI,GAAf,CAAZ;AAAgC,eAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFC;AAAA,WAAkCN,KAAK,CAACM,GAAxC;AAAA;AAAA;AAAA;AAAA,iBADD;AAWC,OAbJ;AADL;AAAA;AAAA;AAAA;AAAA,aADA;AAkBE,GAnBN;;AAoBI,MAAMC,MAAM,GAAChC,SAAS,EAAtB;;AACA,MAAGK,KAAH,EAAS;AACL4B,IAAAA,CAAC,CAACC,KAAF,CAAQ;AAACC,MAAAA,IAAI,EAAC9B,KAAN;AAAY+B,MAAAA,OAAO,EAAC;AAApB,KAAR;AACArC,IAAAA,MAAM,CAACsC,MAAP,CAAc,MAAd;AACAtC,IAAAA,MAAM,CAACsC,MAAP,CAAc,OAAd;AACAL,IAAAA,MAAM,CAACM,IAAP,CAAY,QAAZ;AACH;;AACD,MAAMC,cAAc;AAAA,yEAAC,kBAAMC,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGD3B,KAAK,WAAIhB,OAAJ,mBAA0B;AAC3CiB,gBAAAA,MAAM,EAAC,MADoC;AAE3CC,gBAAAA,OAAO,EAAC;AACJ,kCAAe,kBADX;AAEJ,mCAAgBR;AAFZ,iBAFmC;AAM3CS,gBAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBsB,kBAAAA,WAAW,EAACA;AADI,iBAAf;AANsC,eAA1B,CAHJ;;AAAA;AAGdpB,cAAAA,GAHc;AAAA;AAAA,qBAaAA,GAAG,CAACC,IAAJ,EAbA;;AAAA;AAaXC,cAAAA,IAbW;AAcjBW,cAAAA,CAAC,CAACC,KAAF,CAAQ;AAACC,gBAAAA,IAAI,EAACb,IAAI,CAACmB,OAAX;AAAmBL,gBAAAA,OAAO,EAAC;AAA3B,eAAR;AACAJ,cAAAA,MAAM,CAACM,IAAP,CAAY,GAAZ,EAfiB,CAgBlB;;AAhBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA,oBAAdC,cAAc;AAAA;AAAA;AAAA,KAApB;;AAmBA,MAAMG,UAAU,GAAC,SAAXA,UAAW,GAAI;AACjB,wBACA;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC,MAAT;AAAgBC,QAAAA,cAAc,EAAC;AAA/B,OAAlC;AAAA,8BACI;AAAA,6CAAsBlC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI,QAAC,cAAD;AAAiB,QAAA,IAAI,EAAC,SAAtB;AACA,QAAA,MAAM,EAAEA,KAAK,GAAC,GADd;AAEA,QAAA,KAAK,EAAEJ,QAAQ,CAACuC,MAAT,GAAgB,CAAhB,GAAkBvC,QAAQ,CAAC,CAAD,CAAR,CAAYqB,OAAZ,CAAoBC,QAAtC,GAA+C,EAFtD;AAGA,QAAA,QAAQ,EAAC,KAHT;AAIA,QAAA,eAAe,EAAE,IAJjB;AAKA,QAAA,OAAO,EAAE,IALT;AAMA,QAAA,cAAc,EAAE,IANhB;AAOA,QAAA,SAAS,EAAC,4GAPV;AAQA,QAAA,KAAK,EAAE,eAACY,WAAD;AAAA,iBAAeD,cAAc,CAACC,WAAD,CAA7B;AAAA,SARP;AAAA,+BASA;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAAA;AAAA;AAAA;AAAA,eAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,aADA;AAgBH,GAjBD;;AAkBA,MAAGlC,QAAQ,CAACuC,MAAT,KAAkB,CAArB,EAAuB;AACnB,wBAAO;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,mCAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA/B,eACH;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAwB,QAAA,OAAO,EAAE,mBAAI;AAC/Bb,UAAAA,MAAM,CAACM,IAAP,CAAY,GAAZ;AACL,SAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADG;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AAKH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,aAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;AAMH,CAxGD;;GAAMlC,I;UA+CWJ,S;;;;AAkFjB,eAAeI,IAAf","sourcesContent":["import baseURL from '../helper/baseURL';\r\nimport {parseCookies} from 'nookies';\r\nimport cookie from 'js-cookie'\r\nimport { useRouter } from 'next/router';\r\nimport Link from 'next/link' ;\r\nimport {useState} from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\n\r\nconst cart=({error,products})=>{\r\n   \r\n    const {token}=parseCookies()\r\n    const [newCart,setCart]=useState(products)\r\n    let price=0;\r\n    if(!token){\r\n        return( <div className=\"center-align\">\r\n            <h3>Please Login to view your cart</h3>\r\n            <Link href='/login'><button className=\"btn\">Login</button></Link>\r\n        </div>)\r\n    }\r\n    const handleRemove=async(pid)=>{\r\n       const res= await fetch(`${baseURL}/api/cart`,{\r\n            method:\"DELETE\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":token\r\n            },\r\n            body:JSON.stringify({\r\n                productId:pid\r\n            })\r\n        })\r\n        const res2=await res.json();\r\n        setCart(res2)\r\n    }\r\n   \r\n    \r\nconst CartItems=()=>{\r\n    return(\r\n    <div>\r\n        {newCart.map(items=>{\r\n            price=price+items.quantity*items.product.price;\r\n            return(\r\n             <div className=\"CartImages \" key={items._id}>\r\n            <img src={items.product.mediaURL}/>\r\n            <div style={{margin:\"10px\"}}>\r\n                <h3>{items.product.name} </h3>\r\n                <h4>Quantity : {items.quantity} </h4>\r\n                <h4>Price : {items.product.price} </h4>\r\n                <button className=\"btn #ff6f00 amber darken-4\" onClick={()=>{handleRemove(items.product._id)}}>REMOVE</button>\r\n            </div>\r\n            </div>\r\n            )\r\n            })\r\n        }\r\n    </div>\r\n    )}\r\n    const router=useRouter();\r\n    if(error){\r\n        M.toast({html:error,classes:\"red\"})\r\n        cookie.remove(\"user\");\r\n        cookie.remove(\"token\");\r\n        router.push('/login')\r\n    }\r\n    const handleCheckout=async(paymentInfo)=>{\r\n        //console.log(\"hsei\")\r\n       // console.log(paymentInfo);\r\n     const res=   await fetch(`${baseURL}/api/payment`,{\r\n            method:\"POST\",\r\n            headers:{\r\n                \"Content-Type\":'application/json',\r\n                \"Authorization\":token\r\n            },\r\n            body:JSON.stringify({\r\n                paymentInfo:paymentInfo\r\n            })\r\n        });\r\n        const res2=await res.json();\r\n        M.toast({html:res2.message,classes:\"green\"})\r\n        router.push(\"/\")\r\n       // console.log(res2);\r\n        \r\n    }\r\n    const TotalPrice=()=>{\r\n        return(\r\n        <div className=\"container\" style={{display:\"flex\",justifyContent:\"space-around\"}} >\r\n            <h5> Total Price : â‚¹ {price}</h5>\r\n            <StripeCheckout  name=\"MyStore\"\r\n            amount={price*100}\r\n            image={products.length>0?products[0].product.mediaURL:\"\"}\r\n            currency=\"INR\"\r\n            shippingAddress={true}\r\n            zipCode={true}\r\n            billingAddress={true}\r\n            stripeKey=\"pk_tet_51Hy0XdFCPaJSpKjHAlxmpDRUSYSVFLDBaNdbr75P4HH7ZGxfMT1swPb183nadzpZvZsGi5qj3j71MsjvWVwCIZjx00R8zBNaWq\"\r\n            token={(paymentInfo)=>handleCheckout(paymentInfo)}>\r\n            <button className=\"btn\">Checkout</button>\r\n            </StripeCheckout>\r\n        </div>\r\n        )\r\n    }\r\n    if(products.length===0){\r\n        return <div className=\"center-align\"> <h2>Your Cart Is Empty</h2>\r\n            <button className=\"btn\" onClick={()=>{\r\n                  router.push(\"/\");\r\n            }}>Add Items in your cart </button>\r\n        </div>\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <CartItems/>\r\n            <TotalPrice/> \r\n            </div>\r\n    )       \r\n}   \r\nexport async function getServerSideProps(ctx){\r\n    const{token}=parseCookies(ctx);\r\n    if(!token){\r\n        return {\r\n            props:{products:[]}\r\n        }\r\n    }\r\nconst res=await fetch(`${baseURL}/api/cart`,{\r\nheaders:{\r\n    \"Authorization\":token\r\n}\r\n})\r\nconst products=await res.json();\r\nconsole.log(\"carts\")\r\nconsole.log(products)\r\nif(products.error){\r\n    return {\r\n        props:{error:products.error}\r\n    }\r\n}\r\nreturn{\r\n    props:{products}\r\n}\r\n}\r\nexport default cart;"]},"metadata":{},"sourceType":"module"}