{"ast":null,"code":"// if i want this content to be r3endered at index .js\n//this product is an api  \nimport initDb from '../../helper/initDb';\nimport Product from '../../models/Product';\ninitDb();\nexport default ((req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      getProducts(req, res);\n      break;\n\n    case \"POST\":\n      SaveProducts(req, res);\n      break;\n  }\n});\n\nconst SaveProducts = async (req, res) => {\n  const {\n    name,\n    price,\n    media,\n    description\n  } = req.body;\n\n  try {\n    if (!name || !price || !media || !description) {\n      res.status(422).json({\n        error: \"Please Add all fields\"\n      });\n    }\n\n    const product = await new Product({\n      name: name,\n      price: price,\n      mediaURL: media,\n      description: description\n    }).save(); //201 matlab kuch naya create hua h\n\n    res.status(201).json(product);\n  } catch (error) {\n    res.status(500).json({\n      error: \"Internal Server error\"\n    });\n    console.log(error);\n  }\n};\n\nconst getProducts = async (req, res) => {\n  Product.find({}).then(products => {\n    res.status(200).json(products);\n  });\n}; //in nodejs may agar hamko koi dynamic route se get req krni toh url me app.get(api/products/:id,(req,res)=>{}) krke now in next js\n// we write this in the case of node js\n// app.get('/',(erq,resp)=>{\n//   resp.json({message:'Hi dude '});\n// })","map":null,"metadata":{},"sourceType":"module"}