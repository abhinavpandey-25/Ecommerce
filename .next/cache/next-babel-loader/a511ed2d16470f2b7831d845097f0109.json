{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\ECommerce\\\\mystore\\\\pages\\\\product\\\\[id].js\";\nimport { model } from 'mongoose';\nimport { useRouter } from 'next/router';\nimport { useRef, useEffect, useState } from 'react';\nimport baseURL from '../../helper/baseURL';\nimport { parseCookies } from 'nookies';\n\nconst product = props => {\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(1);\n  const router = useRouter();\n  const modalRef = useRef(null);\n  const cookies = parseCookies();\n  const user = cookies.user ? JSON.parse(cookies.user) : \"\";\n  useEffect(() => {\n    M.Modal.init(modalRef.current); //here modal agar triiger p work krana toh initialise karna padata h uske refrence se jo tiriger k bad display hoga\n  }, []);\n\n  if (router.isFallback) {\n    //agar use static props krte and and fallback true h then agar wo page already build nhi h toh server se fetch\n    //krenge jisme time lgta h toh tb tak ham loading a option dekha sakte h.\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"...Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 16\n    }, this);\n  } // console.log(props);\n\n\n  const getModal = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"modal1\",\n      className: \"modal\",\n      ref: modalRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Modal Header\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are u sure to delete this item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteProduct(),\n          className: \"btn waves-effect waves-light  #d50000 red accent-4\",\n          style: {\n            margin: \"5px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 137\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 151\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn waves-effect waves-light #4a148c purple darken-4\",\n          style: {\n            margin: \"5px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 110\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 124\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this);\n  };\n\n  const deleteProduct = async () => {\n    console.log(\"del method\");\n    console.log(props.value._id);\n    fetch(`${baseURL}/api/product/${props.value._id}`, {\n      method: \"DELETE\"\n    }).then(res => res.json()).then(res2 => console.log(res2));\n    router.push('/');\n  };\n\n  const AddtoCart = async () => {\n    const res = await fetch(`${baseURL}/api/cart`, {\n      method: \"PUT\",\n      headers: {\n        'Content-Type': \"application/json\",\n        \"Authorization\": cookies.token\n      },\n      body: JSON.stringify({\n        quantity: quantity,\n        productId: props.value._id\n      })\n    });\n    const res2 = await res.json();\n    console.log(res2);\n    M.toast({\n      html: res2.message,\n      color: \"green\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container center-align \",\n    style: {\n      marginBottom: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: props.value.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.value.mediaURL,\n      style: {\n        \"width\": \"35%\",\n        \"height\": \"400px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"RS \", props.value.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      style: {\n        width: \"50%\",\n        textAlign: \"center\"\n      },\n      min: \"1\",\n      placeholder: \"Quantity\",\n      value: quantity,\n      onChange: e => setQuantity(Number(e.target.value))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \" btn waves-effect waves-light \",\n      onClick: () => AddtoCart(),\n      children: [\"Add \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 88\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \" btn waves-effect waves-light \",\n      onClick: () => router.push('/login'),\n      children: \"Login to Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.value.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), user.role != \"user\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-target\": \"modal1\",\n      className: \" btn modal-trigger waves-effect waves-light  #d50000 red accent-4 \",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 139\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 153\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 31\n    }, this) //if the user is an admin then only u should give the delete button otherwise no need for delete button\n    , getModal()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}; // export async function getServerSideProps(context) {\n//    //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\n//    //since the page is static one so we can use getstatic props also for better performance.\n//here in getserever side props context contains the params as obj and inside it id as another object {id:...}\n//    const id= context.params.id;\n//    const data=await fetch(`http://localhost:3000/api/product/${id}`).then(res=>res.json());\n//    console.log(data);\n//    return{\n//        props:{\n//            value:data\n//        }\n//    }\n// }       \n\n\nexport async function getStaticProps(context) {\n  //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\n  //since the page is static one so we can use getstatic props also for better performance.\n  const id = context.params.id;\n  const data = await fetch(`${baseURL}/api/product/${id}`).then(res => res.json()); //console.log(data);\n\n  return {\n    props: {\n      value: data\n    }\n  };\n} //first getstatic paths will run during build to build the sattic page with the givven id only\n//baki agar fallback false h toh other pages k liye pagenot found ayga but agar fall back true h toh jo id exist nhi krti at\n//build time then network request jese hoga on getstatic props\n\nexport async function getStaticPaths() {\n  return {\n    paths: [{\n      params: {\n        id: \"5f977b791efe90be048d25af\"\n      }\n    } //lets say we have a largee number of products then what should we doo hame har static path ko build time par hi build \n    //kar sakte h\n    ],\n    fallback: true\n  };\n}\nexport default product;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/product/[id].js"],"names":["model","useRouter","useRef","useEffect","useState","baseURL","parseCookies","product","props","quantity","setQuantity","router","modalRef","cookies","user","JSON","parse","M","Modal","init","current","isFallback","getModal","deleteProduct","margin","console","log","value","_id","fetch","method","then","res","json","res2","push","AddtoCart","headers","token","body","stringify","productId","toast","html","message","color","marginBottom","name","mediaURL","price","width","textAlign","e","Number","target","description","role","getStaticProps","context","id","params","data","getStaticPaths","paths","fallback"],"mappings":"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","sourcesContent":["import { model } from 'mongoose';\r\nimport {useRouter} from 'next/router'\r\nimport { useRef,useEffect,useState}from 'react'\r\nimport baseURL from '../../helper/baseURL';\r\nimport {parseCookies} from 'nookies';\r\nconst product=(props)=>{\r\n  const [quantity,setQuantity]=useState(1);\r\n    const router=useRouter()\r\n    const modalRef=useRef(null);\r\n    const cookies=parseCookies();\r\n    const user=cookies.user?JSON.parse(cookies.user):\"\";\r\n    useEffect(()=>{\r\n        M.Modal.init(modalRef.current);\r\n        //here modal agar triiger p work krana toh initialise karna padata h uske refrence se jo tiriger k bad display hoga\r\n    },[])\r\n    if(router.isFallback){\r\n        //agar use static props krte and and fallback true h then agar wo page already build nhi h toh server se fetch\r\n        //krenge jisme time lgta h toh tb tak ham loading a option dekha sakte h.\r\n        return(<h1>...Loading</h1>)\r\n    }\r\n    // console.log(props);\r\n    const getModal=()=>{\r\n        return(\r\n            <div id=\"modal1\" className=\"modal\" ref={modalRef}> \r\n            <div className=\"modal-content\">\r\n              <h4>Modal Header</h4>\r\n              <p>Are u sure to delete this item</p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n            <button onClick={()=>deleteProduct()} className=\"btn waves-effect waves-light  #d50000 red accent-4\" style={{margin:\"5px\"}}><b>Delete</b> <i className=\"material-icons\">delete</i></button>\r\n            <button  className=\"btn waves-effect waves-light #4a148c purple darken-4\" style={{margin:\"5px\"}}><b>Cancel</b> <i className=\"material-icons\">cancel</i></button>\r\n        \r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n    const deleteProduct=async()=>{\r\n        console.log(\"del method\");\r\n        console.log(props.value._id);\r\n        fetch(`${baseURL}/api/product/${props.value._id}`,{\r\n            method:\"DELETE\"\r\n        }).then(res=>res.json()).then(res2=>console.log(res2));\r\n        router.push('/');\r\n      }    \r\n        const AddtoCart=async()=>{\r\n          const res=await fetch(`${baseURL}/api/cart`,{\r\n            method:\"PUT\",\r\n            headers:{\r\n              'Content-Type':\"application/json\",\r\n              \"Authorization\":cookies.token\r\n            },\r\n            body:JSON.stringify({\r\n              quantity:quantity,\r\n              productId:props.value._id\r\n            })\r\n          })\r\n          const res2=await res.json();\r\n          console.log(res2);\r\n          M.toast({html: res2.message ,color:\"green\"})\r\n\r\n        }\r\n    \r\n    return(\r\n    <div className=\"container center-align \" style={{marginBottom:\"20px\"}}>\r\n        <h2>{props.value.name}</h2>\r\n     <img src={props.value.mediaURL} style={{\"width\":\"35%\", \"height\":\"400px\"}}/>\r\n   <b><p>RS {props.value.price}</p></b>\r\n    <input type=\"number\" style={{width:\"50%\",textAlign:\"center\"}} min=\"1\" placeholder=\"Quantity\" value={quantity} \r\n    onChange={(e)=>setQuantity(Number(e.target.value))} />\r\n    {\r\n      user?\r\n      <button className=\" btn waves-effect waves-light \" onClick={()=>AddtoCart()}>Add <i className=\"material-icons\">add</i></button>\r\n      :<button className=\" btn waves-effect waves-light \" onClick={()=>router.push('/login')}>Login to Add</button>\r\n    }\r\n        <p>{props.value.description}</p>\r\n        { user.role!=\"user\"&& <button data-target=\"modal1\" className=\" btn modal-trigger waves-effect waves-light  #d50000 red accent-4 \"><b>Delete</b> <i className=\"material-icons\">delete</i></button>  \r\n        //if the user is an admin then only u should give the delete button otherwise no need for delete button\r\n        }\r\n        {getModal()}\r\n        \r\n    {/* modal trigger lgana jarurui hota h also modal target btana bhi aur initalise krna bhi tbi modal work krega */}\r\n    </div>\r\n)\r\n}\r\n// export async function getServerSideProps(context) {\r\n//    //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\r\n//    //since the page is static one so we can use getstatic props also for better performance.\r\n//here in getserever side props context contains the params as obj and inside it id as another object {id:...}\r\n//    const id= context.params.id;\r\n//    const data=await fetch(`http://localhost:3000/api/product/${id}`).then(res=>res.json());\r\n\r\n//    console.log(data);\r\n//    return{\r\n//        props:{\r\n//            value:data\r\n//        }\r\n//    }\r\n// }       \r\nexport async function getStaticProps(context) {\r\n   //since by using serverside props it can work fine but when the traffic is more it can decrease its performance\r\n   //since the page is static one so we can use getstatic props also for better performance.\r\n   const id= context.params.id;\r\n   const data=await fetch(`${baseURL}/api/product/${id}`).then(res=>res.json());\r\n   //console.log(data);\r\n   return{\r\n       props:{\r\n           value:data\r\n       }\r\n   }\r\n}       \r\n//first getstatic paths will run during build to build the sattic page with the givven id only\r\n//baki agar fallback false h toh other pages k liye pagenot found ayga but agar fall back true h toh jo id exist nhi krti at\r\n//build time then network request jese hoga on getstatic props\r\nexport async function getStaticPaths() {\r\n    return {\r\n      paths: [\r\n        { params: { id:\"5f977b791efe90be048d25af\"} } \r\n        //lets say we have a largee number of products then what should we doo hame har static path ko build time par hi build \r\n        //kar sakte h\r\n      ],\r\n      fallback: true \r\n    };\r\n  }\r\nexport default product;"]},"metadata":{},"sourceType":"module"}