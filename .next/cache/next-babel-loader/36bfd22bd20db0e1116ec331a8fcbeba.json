{"ast":null,"code":"import Product from '../../../models/Product';\nexport default (async (req, res) => {\n  console.log(req.method);\n\n  switch (req.method) {\n    case \"GET\":\n      await getProduct();\n      break;\n\n    case \"DELETE\":\n      await deleteProduct();\n      break;\n  }\n});\n\nconst getProduct = async (req, res) => {\n  const {\n    pid\n  } = req.query;\n  await Product.findOne({\n    _id: pid\n  }, (err, result) => {\n    if (err) {\n      console.log(err);\n    } else {\n      res.status(200).json(result);\n    }\n  });\n};\n\nconst deleteProduct = async (req, res) => {\n  const {\n    pid\n  } = req.query;\n  await Product.findOneAndRemove({\n    _id: pid\n  }, error => {\n    if (!error) {\n      console.log(\"deleted\");\n      res.status(200).json();\n    } else {\n      console.log(error);\n    }\n  });\n}; // const pid=req.query.pid;another way for doing this can be","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ECommerce/mystore/pages/api/product/[pid].js"],"names":["Product","req","res","console","log","method","getProduct","deleteProduct","pid","query","findOne","_id","err","result","status","json","findOneAndRemove","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,yBAApB;AACA,gBAAe,OAAMC,GAAN,EAAUC,GAAV,KAAgB;AAE9BC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB;;AACG,UAAOJ,GAAG,CAACI,MAAX;AACI,SAAK,KAAL;AAAY,YAAMC,UAAU,EAAhB;AACZ;;AACA,SAAK,QAAL;AAAe,YAAMC,aAAa,EAAnB;AACf;AAJJ;AAMH,CATD;;AAUQ,MAAMD,UAAU,GAAC,OAAML,GAAN,EAAUC,GAAV,KAAgB;AAC7B,QAAM;AAACM,IAAAA;AAAD,MAAMP,GAAG,CAACQ,KAAhB;AACA,QAAMT,OAAO,CAACU,OAAR,CAAgB;AAACC,IAAAA,GAAG,EAACH;AAAL,GAAhB,EAA0B,CAACI,GAAD,EAAKC,MAAL,KAAc;AAC9C,QAAGD,GAAH,EAAO;AACPT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACH,KAFG,MAGA;AACAV,MAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,MAArB;AACH;AACA,GAPS,CAAN;AAQP,CAVG;;AAWH,MAAMN,aAAa,GAAC,OAAMN,GAAN,EAAUC,GAAV,KAAgB;AACjC,QAAM;AAACM,IAAAA;AAAD,MAAMP,GAAG,CAACQ,KAAhB;AACA,QAAMT,OAAO,CAACgB,gBAAR,CAAyB;AAACL,IAAAA,GAAG,EAACH;AAAL,GAAzB,EAAoCS,KAAD,IAAS;AAElD,QAAG,CAACA,KAAJ,EAAU;AACFd,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEAF,MAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB;AACE,KAJV,MAKQ;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACH;AACJ,GAVK,CAAN;AAWH,CAbA,C,CAcC","sourcesContent":["import Product from '../../../models/Product'\r\nexport default async(req,res)=>{\r\n   \r\n console.log(req.method)\r\n    switch(req.method){\r\n        case \"GET\": await getProduct();  \r\n        break;\r\n        case \"DELETE\": await deleteProduct();\r\n        break;    \r\n    }\r\n}\r\n        const getProduct=async(req,res)=>{\r\n            const {pid}=req.query;\r\n            await Product.findOne({_id:pid},(err,result)=>{\r\n            if(err){\r\n            console.log(err);\r\n        }\r\n        else{\r\n            res.status(200).json(result);\r\n        }\r\n        });\r\n    }\r\n     const deleteProduct=async(req,res)=>{  \r\n        const {pid}=req.query; \r\n        await Product.findOneAndRemove({_id:pid},(error)=>{\r\n            \r\n        if(!error){\r\n                console.log(\"deleted\")\r\n           \r\n                res.status(200).json()\r\n                 }\r\n            else{\r\n                console.log(error);\r\n            }\r\n        })\r\n    }\r\n      // const pid=req.query.pid;another way for doing this can be "]},"metadata":{},"sourceType":"module"}